@inject IDataCacheService _dataCacheService
@inject IServiceProvider _serviceProvider


<CnGalWebSite.Shared.MasaComponent.Shared.Tips.StyleTip @ref="styleTip" OnStateChanged="OnStateChanged" />
<ImagesLargeViewTip />
    <CascadingValue Value=this IsFixed="true">
        @ChildContent
    </CascadingValue>



    @code {
        [Parameter]
        public RenderFragment ChildContent { get; set; }

        CnGalWebSite.Shared.MasaComponent.Shared.Tips.StyleTip styleTip;

        public async Task SaveTheme()
        {
            if (styleTip != null)
            {
                await styleTip.SaveTheme();
                styleTip.Refresh();
            }
        }


        public async Task OnStateChanged(bool refreshApp)
        {
            if (refreshApp)
            {
                await _dataCacheService.RefreshApp.InvokeAsync();
            }
            StateHasChanged();
        }
    }
