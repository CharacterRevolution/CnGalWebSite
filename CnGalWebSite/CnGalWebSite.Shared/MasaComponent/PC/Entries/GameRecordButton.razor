@inject DialogService DialogService
@inject NavigationManager NavigationManager
@inject IDataCacheService _dataCacheService

<CnGalWebSite.Shared.Component.PlayedGames.EditGameRecordTip @ref="editGameRecordTip" />

<CnGalWebSite.Shared.MasaComponent.Shared.Components.MasaButton Fab Icon="mdi-gamepad-square-outline" Tooltip="游玩记录" OnClick="OnClickEditGameRecored" Class="@Class" />

@code {
    [Parameter]
    public int Id { get; set; }
    [Parameter]
    public string Class { get; set; }
    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }

    CnGalWebSite.Shared.Component.PlayedGames.EditGameRecordTip editGameRecordTip;

    public async Task OnClickEditGameRecored()
    {
        if (editGameRecordTip != null)
        {
            await editGameRecordTip.Refresh(true, Id, null);
        }
    }
}
