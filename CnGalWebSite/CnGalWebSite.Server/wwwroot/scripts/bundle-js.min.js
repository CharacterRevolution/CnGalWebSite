function InitMouse(){function y(){n.width=window.innerWidth;n.height=window.innerHeight;n.style.width=window.innerWidth+"px";n.style.height=window.innerHeight+"px";r.scale(1,1);s=n.width=window.innerWidth;h=n.height=window.innerHeight;e={x:s,y:h};o={x:s,y:h}}function p(n=1,t=e.x,i=e.y){for(let r=0;r<n;r++)u.push(new b(t,i))}function f(n,t){return Math.floor(Math.random()*t)+n}function w(){r.clearRect(0,0,n.width,n.height);for(let n=0;n<u.length;n++){let t=u[n];t.r<0||(r.fillStyle=t.color,r.beginPath(),r.arc(t.x,t.y,t.r,0,Math.PI*2,!1),r.fill(),t.update())}i==!0?t+=t<=10?.2:0:!i&&t>=0&&(t-=.4);k();requestAnimationFrame(w)}function k(){for(let n=0;n<u.length;n++){let t=u[n];(t.x+t.r<0||t.x-t.r>s||t.y+t.r<0||t.y-t.r>h||t.r<0)&&u.splice(n,1)}}const n=document.createElement("canvas");n.id="mouse-canvas";document.body.appendChild(n);const r=n.getContext("2d"),a=["#F73859","#14FFEC","#00E0FF","#FF99FE","#FAF15D"];let u=[],v=!1,i=!1,l,t=0,s,h,e,o;y();window.addEventListener("resize",y,!1);class b{constructor(n=e.x,r=e.y){this.x=n;this.y=r;this.angle=Math.PI*2*Math.random();this.multiplier=i==!0?f(14+t,15+t):f(6,12);this.vx=(this.multiplier+Math.random()*.5)*Math.cos(this.angle);this.vy=(this.multiplier+Math.random()*.5)*Math.sin(this.angle);this.r=f(5,10)+3*Math.random();this.color=a[Math.floor(Math.random()*a.length)];this.direction=f(-1,1)}update(){this.x+=this.vx-o.x;this.y+=this.vy-o.y;o.x=-2/window.innerWidth*Math.sin(this.angle);o.y=-2/window.innerHeight*Math.cos(this.angle);this.r-=.3;this.vx*=.9;this.vy*=.9}}w();window.addEventListener("mousedown",function(n){v=!0;p(f(10,20),n.clientX,n.clientY);document.body.classList.add("is-pressed");l=setTimeout(function(){document.body.classList.add("is-longpress");i=!0},750)},!1);window.addEventListener("mouseup",function(n){clearInterval(l);i==!0&&(document.body.classList.remove("is-longpress"),p(f(50+Math.ceil(t),100+Math.ceil(t)),n.clientX,n.clientY),i=!1);document.body.classList.remove("is-pressed")},!1);const c=document.createElement("span");c.classList.add("mouse-pointer");document.body.appendChild(c);window.addEventListener("mousemove",function(n){let t=n.clientX,i=n.clientY;c.style.top=i+"px";c.style.left=t+"px"},!1);document.addEventListener("selectionchange",function(){v&&(clearInterval(l),i=!1,document.body.classList.remove("is-pressed"),document.body.classList.remove("is-longpress"))})}function openNewPage(n){window.open(n,"_blank")}function setInnerHTML(n,t){var i=document.getElementById(n);i!=null&&i.innerHTML.length==0&&(i.innerHTML=t)}function cleanInnerHTML(n){var t=document.getElementById(n);t!=null&&t.innerHTML.length>0&&(t.innerHTML="")}function deleteDiv(n){var i=document.getElementsByClassName(n),t;if(i!=null)for(t=0;t<i.length;t++)i[t].remove()}function copyUrl(){var n=this.location.href;window.clipboardData.setData("Text",n);alert("复制成功!")}function tool_scroll(n,t){if(t==="dispose"){window.onscroll=null;return}var i=function(){var i=document.body.scrollHeight,r=document.documentElement.scrollTop||document.body.scrollTop,u=i-r;n.invokeMethodAsync(t,u)};i();window.onscroll=function(){i()}}function getScrollBottom(){this.docScrollTop=document.documentElement&&document.documentElement.scrollTop;this.docClientHeight=document.body.clientHeight&&document.documentElement.clientHeight;this.docScrollHeight=document.body.scrollHeight;return this.docScrollHeight-this.docScrollTop-this.docClientHeight}function getResponseFromRecaptcha(n){return grecaptcha.getResponse(n)}function initRecaptcha(){return grecaptcha.render("robot",{sitekey:"6LedTqcbAAAAADER0LFm7wmLcdyc7BtTuD8kFa74",theme:"light",size:"normal"})}function initDebugTool(){eruda.init();console.log("成功启动调试工具")}function initMouseJs(){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("src","js/mouse.js");document.body.appendChild(n)}function highlightAllCode(){hljs.highlightAll()}function trackEvent(n,t,i,r,u){_czc.push(["_trackEvent",n,t,i,r,u])}function initEditorMd(n){$(function(){editor=editormd("editor",{htmlDecode:!0,width:"100%",height:"100%",placeholder:"这里是Markdown编辑器，可以点击右侧问号了解语法详情",markdown:n,path:"_content/CnGalWebSite.Shared/editor.md/lib/"})})}function getEditorMdContext(){return editor.getMarkdown()}function addEditorMdContext(n){editor.appendMarkdown(n)}function initUploadButton(n,t,i){jQuery(t).change(function(){for(var r,u,t=0;t<this.files.length;t++)r=this.files[t],u=new FormData,u.append("source",r),jQuery.ajax({"async":!0,crossDomain:!0,url:"https://pic.cngal.top/api/1/upload/?format=json&key=00ee89a663169218bd1ddeab71d54ddf",type:"POST",processData:!1,contentType:!1,data:u,beforeSend:function(){jQuery(i).html('<i class="fa fa-spinner fa-spin" aria-hidden="true"><\/i> 上传中...')},success:function(t){n.invokeMethodAsync("UpLoaded",t.image.url+"||"+r.size);jQuery(i).html('<i class="fa fa-check" aria-hidden="true"><\/i> 上传成功,继续上传')},error:function(){jQuery(i).html('<i class="fa fa-times" aria-hidden="true"><\/i> 上传失败，重新上传')}})})}function initTencentCAPTCHA(n){var t=new TencentCaptcha("2049507573",function(t){t.ret===0?n.invokeMethodAsync("OnChecked",t.ticket,t.randstr):n.invokeMethodAsync("OnCancel")});t.show()}function setCustomVar(n,t){_czc.push(["_setCustomVar",n,t,1])}function addfavorite(){var n=navigator.userAgent.toLowerCase().indexOf("mac")!=-1?"Command/Cmd":"CTRL";try{if(document.all)try{window.external.toString();window.alert("国内开发的360浏览器等不支持主动加入收藏。\n您可以尝试通过浏览器菜单栏 或快捷键 ctrl+D 试试。")}catch(t){try{window.external.addFavorite(window.location,document.title)}catch(t){window.external.addToFavoritesBar(window.location,document.title)}}else window.sidebar?window.sidebar.addPanel(document.title,window.location,""):alert("您可以尝试通过快捷键"+n+" + D 加入到收藏夹~")}catch(t){window.alert("因为IE浏览器存在bug，添加收藏失败！\n解决办法：在注册表中查找\n HKEY_CLASSES_ROOT\\TypeLib\\{EAB22AC0-30C1-11CF-A7EB-0000C05BAE0B}\\1.1\\0\\win32 \n将 C:\\WINDOWS\\system32\\shdocvw.dll 改为 C:\\WINDOWS\\system32\\ieframe.dll ")}}function initGeetestCAPTCHA(n,t,i,r){initGeetest({gt:t,challenge:i,offline:!r,new_captcha:!0,width:"100%"},function(t){t.appendTo("#captcha-box");t.onSuccess(function(){var i=t.getValidate();n.invokeMethodAsync("OnSuccessed",i.geetest_challenge,i.geetest_validate,i.geetest_seccode)})})}function goback(){window.location.href="javascript:history.go(-1)"}function initGeetestBindCAPTCHA(n,t,i,r){initGeetest({gt:t,challenge:i,offline:!r,new_captcha:!0,product:"bind"},function(t){t.onReady(function(){t.verify()});t.onSuccess(function(){var i=t.getValidate();n.invokeMethodAsync("OnChecked",i.geetest_challenge,i.geetest_validate,i.geetest_seccode)});t.onError(function(){n.invokeMethodAsync("OnCancel")});t.onClose(function(){n.invokeMethodAsync("OnCancel")})})}function showGeetestBindCAPTCHA(n){capObj==null&&n.invokeMethodAsync("OnCancel")}function isMobile(){var n=navigator.userAgent;return n.indexOf("Android")>-1||n.indexOf("iPhone")>-1||n.indexOf("iPod")>-1||n.indexOf("Symbian")>-1?"true":"false"}var _czc=_czc||[],editor;_czc.push(["_setAccount","1280206141"]);